## 安装步骤

1、环境规划

2、安装Docker

3、自签TLS证书

4、部署Et cd集群

5、部署Flannel网络

6、创建Node节点kube config文件

7、获取K8S二进制包

8、运行Master组件

9、运行Node组件

10、查询集群状态

11、启动一个测试示例

12、部署WebUI(Dashboard)



## 一 、环境规划





## 二、安装Docker

3、自签TLS证书

4、部署Etcd集群

5、部署Flannel网络

6、创建Node节点kube config文件

7、获取K8S二进制包

8、运行Master组件

9、运行Node组件

10、查询集群状态

11、启动一个测试示例

12、部署WebUI(Dashboard)



关闭SELinux

```sh
vim /etc/selinux/config

#修改为
SELINUX=disabled
```



```
yum remove docker \
                   docker-client \
                   docker-client-latest \
                   docker-common \
                   docker-latest \
                   docker-latest-logrotate \
                   docker-logrotate \
                   docker-selinux \
                   docker-engine-selinux \
                   docker-engine
 
 rm -rf /etc/systemd/system/docker.service.d
 
 rm -rf /var/lib/docker
 
 rm -rf /var/run/docker
```



```sh
v1.13.4

cd ~/k8s-manual-files/
docker pull zhangguanzhang/k8s_bin:$KUBE_VERSION-full
docker run --rm -d --name temp zhangguanzhang/k8s_bin:$KUBE_VERSION-full sleep 10
docker cp temp:/kubernetes-server-linux-amd64.tar.gz .
tar -zxvf kubernetes-server-linux-amd64.tar.gz --strip-components=3 -C /usr/local/bin kubernetes/server/bin/kube{let,ctl,-apiserver,-controller-manager,-scheduler,-proxy}


#分发给其他master
scp /usr/local/bin/kube{let,ctl,-apiserver,-controller-manager,-scheduler,-proxy} k8s-m2:/usr/local/bin/

#分发给其他node
scp /usr/local/bin/kube{let,-proxy} k8s-n1:/usr/local/bin/
```

